# Changelog

All notable changes to Secretary of War Simulator: Operation Southern Spear will be documented in this file.

## [1.0.1] - 2025-12-16

### Fixed
- **CRITICAL:** Changed audio folder path from `Plugins\NarcoBoats\Radio\` to `lspdfr\audio\scanner\NarcoBoats\` (LSPDFR standard)
- **CRITICAL:** Fixed white boat blips - boats now properly display as red enemy targets
- **CRITICAL:** Fixed GTA V audio issues caused by audio system conflicts
- Audio playback now uses async GameFiber to prevent blocking game audio
- Improved blip persistence - blips stay red throughout entire mission
- Enhanced blip visibility with SET_BLIP_ALPHA native call

### Added
- Enhanced HUD with color-coded statistics (wave progress, kills, time)
- Performance rating system based on kills per minute
  - Excellent: 10+ kills/min
  - Good: 7-10 kills/min
  - Adequate: 5-7 kills/min
  - Needs Improvement: <5 kills/min
- Career statistics tracking across sessions
  - Total missions completed
  - Best wave record
  - Best completion time
- Professional mission briefings with classification styling
- Enhanced mission complete notifications with detailed stats
- Better wave transition notifications with status updates
- Blip scale adjustment (0.8x) for clearer radar display

### Changed
- Improved notification formatting with military-style headers
- Enhanced color coding throughout UI (yellow for warnings, red for hostiles, green for success)
- Mission briefings now show mission number and career stats
- Wave notifications now include current/max wave count
- Better visual hierarchy in all on-screen messages

### Technical Improvements
- Audio system completely rewritten to prevent conflicts
- Async audio playback in separate GameFiber
- Better error handling for audio file operations
- Improved logging for troubleshooting
- Code cleanup and optimization

## [1.0.0] - 2025-12-16

### Initial Release

#### Features
- Wave-based combat system with progressive difficulty
- Multiple helicopter options (Hunter, Buzzard, Savage, Annihilator)
- Configurable spawn locations (Beach, Fort Zancudo, Random)
- Drug cargo props on boats for visual realism
- Score tracking system (kills, waves, time)
- AI radio chatter support (optional WAV files)
- Full INI configuration system
- HUD display showing wave progress, kills, and timer
- Automatic cleanup and mission replay capability

#### Configuration Options
- Customizable mission hotkey
- Adjustable starting boat count (1-15)
- Configurable boats per wave (1-5)
- Maximum wave count setting (1-10)
- Drug prop density controls (6-10 default)
- Audio folder path customization
- Helicopter model selection
- Spawn location preference

#### Technical Details
- Built for RagePluginHook
- Compatible with LSPDFR installations
- Automatic config.ini generation on first run
- Comprehensive error handling and logging
- Performance optimized for stable gameplay

#### Known Issues
- High drug prop counts (>15) may cause performance issues on some systems
- Radio chatter only supports WAV format audio files

---

## Planned Features (Future Updates)

### [1.1.0] - Planned
- [ ] Additional helicopter models (Valkyrie, Akula)
- [ ] Difficulty presets (Easy, Normal, Hard, Insane)
- [ ] In-game statistics screen (press key to view)
- [ ] Additional boat spawn patterns
- [ ] Weather/time of day options
- [ ] Custom blip colors by wave
- [ ] Mission failure conditions (boats reaching shore)
- [ ] Boat health indicators
- [ ] Distance to shore warnings

### [1.2.0] - Planned
- [ ] Co-op support (multiplayer compatibility)
- [ ] Additional mission types (convoy escort, search and destroy)
- [ ] Achievement system
- [ ] Custom notification sounds
- [ ] Save/load best times to file
- [ ] Leaderboard display
- [ ] Mission replay system with saved configurations
- [ ] Custom boat formations

### [2.0.0] - Planned (Major Update)
- [ ] Mission editor/creator
- [ ] Custom helicopter loadouts
- [ ] Support for custom boat models
- [ ] Voice line integration (beyond WAV files)
- [ ] Mission briefing screen with map
- [ ] After-action report with detailed breakdown
- [ ] Medal/rank system based on performance
- [ ] Dynamic weather during missions
- [ ] Day/night cycle effects

### Future Considerations
- Integration with other LSPDFR mods
- Naval vessel support (larger boats/ships)
- Ground support elements (coastal batteries)
- Air support coordination (other friendly aircraft)
- Real-time intel updates during missions
- Civilian boat avoidance mechanics
- Fuel/ammo management (optional hardcore mode)
- VR support investigation

---

## Version History

| Version | Release Date | Status | Key Features |
|---------|-------------|--------|--------------|
| 1.0.1   | 2025-12-16  | Current | Audio fix, red blips, performance ratings |
| 1.0.0   | 2025-12-16  | Released | Initial release |

---

## Bug Reports & Feature Requests

If you encounter bugs or have feature suggestions:

1. **Check the README troubleshooting section first**
2. **Check RagePluginHook.log for errors**
3. **Provide the following information:**
   - GTA V version
   - RagePluginHook version
   - Your NarcoBoatsRPH.ini settings
   - Steps to reproduce the issue
   - RagePluginHook.log excerpt (if applicable)

---

## Known Issues (Current)

### Performance
- Drug prop counts above 15 may cause stuttering on lower-end systems
- Wave counts above 7 may impact performance with many boats active

### Audio
- Only WAV format supported (MP3/OGG will not play)
- Very long audio files (>30 seconds) may overlap with next boat destruction

### Gameplay
- Boats occasionally spawn too close together in crowded waves
- Boat AI may get stuck on terrain in rare cases

**Workarounds available in README.txt troubleshooting section**

---

## Development Notes

### Version 1.0.1 Changes Explained

**Why we changed the audio path:**
- Other LSPDFR mods use `lspdfr\audio\scanner\` as standard
- This prevents conflicts with game audio systems
- Makes audio files easier to find and organize
- Follows LSPDFR community conventions

**Why we fixed the blip color:**
- White blips made enemies hard to identify
- Red is universal for hostile targets
- Improved gameplay clarity significantly
- Required forcing alpha value to 255 (full visibility)

**Performance rating system:**
- Encourages aggressive, efficient play
- Provides replayability incentive
- Based on testing with average players
- Kills per minute is fair metric across all difficulties

---

**Note:** This changelog follows [Keep a Changelog](https://keepachangelog.com/) format principles.

**Semantic Versioning:** This project uses [Semantic Versioning](https://semver.org/):
- MAJOR version for incompatible changes
- MINOR version for new features (backwards compatible)
- PATCH version for bug fixes (backwards compatible)